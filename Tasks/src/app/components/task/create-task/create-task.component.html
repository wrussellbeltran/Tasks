<div class="container-fluid">
	<div class="row justify-content-center">
		<div class="col-12 col-sm-10 col-md-8 col-lg-6 p-5">
			<div class="card-body">
				<form (ngSubmit)="onSubmit(taskForm)" #taskForm="ngForm">
					<div class="d-flex justify-content-start">
						<h2 class="display-5 text-info">{{ page_title }}</h2>
					</div>

					<hr>

					<div class="form-group">
					    <label for="name" class="font-weight-bold">Nombre:</label>
					    <input type="text" class="form-control" id="name" name="name" #name="ngModel" [(ngModel)]="task.name" placeholder="Nombre de la tarea" required>
					    <span *ngIf="!name.valid && name.touched" class="text-danger">El nombre no es válido</span>
					</div>

					<div class="form-group">
						<label for="responsable_id" class="font-weight-bold">Responsable:</label>
						<select class="form-control" id="responsable_id" name="responsable_id" #responsable_id="ngModel" [(ngModel)]="task.responsable_id" required>
						  <option *ngFor="let responsable of responsible" [value]="responsable.id">{{ responsable.name }}</option>
						</select>
					</div>

					<div class="form-group">
					    <label for="star_date" class="font-weight-bold">Fecha Inicio:</label>
					      <div class="input-group date fj-date" data-provide="datepicker">
					        <input type="date" class="form-control" id="star_date" name="star_date" #star_date="ngModel" [(ngModel)]="task.star_date" [value]="task.star_date" required>
					      </div>
					</div>

					<div class="form-group">
					    <label for="end_date" class="font-weight-bold">Fecha Fin:</label>
					      <div class="input-group date fj-date" data-provide="datepicker">
					        <input type="date" class="form-control" id="end_date" name="end_date" #end_date="ngModel" [(ngModel)]="task.end_date" required>
					    </div>
					</div>

					<div class="form-group">
					    <label for="advance" class="font-weight-bold">Porcentaje de Avance:</label>
					    <input type="text" class="form-control" id="advance" name="advance" #advance="ngModel" [(ngModel)]="task.advance" placeholder="Porcentaje" required (keypress)="onlyNumberKey($event)" minlength="2" maxlength="3">
					    <span *ngIf="!advance.valid && advance.touched" class="text-danger">El porcentaje no es válido</span>
					</div>

					<div class="form-group">
					    <label for="category" class="font-weight-bold">Categoría:</label>
					    <input type="text" class="form-control" id="category" name="category" #category="ngModel" [(ngModel)]="task.category" placeholder="Nombre de la categoría" required>
					    <span *ngIf="!category.valid && category.touched" class="text-danger">la categoría no es válido</span>
					</div>

				  	<div class="form-group">
	                    <button type="submit" class="btn btn-primary" [disabled]="!taskForm.valid">
	                        Guardar
	                    </button>
	                    <a class="btn btn-link" routerLink="/tasks">Ir al listado</a>
	                </div>

			  		<div class="mt-3">
				  		<div class="alert alert-success" *ngIf="status == 'success'" >
					    	Tarea generada !!
					 	</div>

						<div class="alert alert-danger" *ngIf="status == 'error'" >
						    No se pudo generar la tarea !!
						</div>
					</div>
				</form>				
			</div>
		</div>
	</div>
</div>